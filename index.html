<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Jwitter API : twitter in tomcat" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Jwitter API</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/cedias/Jwitter">View on GitHub</a>

          <h1 id="project_title">Jwitter API</h1>
          <h2 id="project_tagline">twitter in tomcat</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/cedias/Jwitter/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/cedias/Jwitter/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>Jwitter API</h1>

<hr><p><strong><a href="#general-overview">General Overview</a></strong>
/ <a href="#services">Services</a>
/ <a href="#arguments">Arguments</a>
/ <a href="#error-codes">Error Codes</a><br><strong><a href="#user-service">User Service</a></strong>
/ <a href="#login">Login</a>
/ <a href="#logout">Logout</a>
/ <a href="#new">New</a>
/ <a href="#info">Info</a><br><strong><a href="#friend-service">Friend Service</a></strong>
/ <a href="#add">Add</a>
/ <a href="#remove">Remove</a>
/ <a href="#list">List</a><br><strong><a href="#message-service">Message Service</a></strong>
/ <a href="#post">Post</a>
/ <a href="#delete">Delete</a>
/ <a href="#list-1">List</a></p>

<h2>General Overview</h2>

<h3>Services</h3>

<p>Jwitter api has 4 distinct services:</p>

<ul>
<li>User : handles authentification and sessions</li>
<li>Friend : handles friends</li>
<li>Message : handles messages</li>
<li>Search : handles messages searchs</li>
</ul><p>All of these services are reachable using the HTTP protocol over GET method.
Arguments and Errors are standardized.</p>

<h3>Arguments</h3>

<p>Since the GET protocol is using the URL to transmit calls arguments' names have been standardized and shrinked.</p>

<h4>Authentification</h4>

<ul>
<li>user's login := login</li>
<li>user's password := pass</li>
<li>user's session key := key</li>
</ul><h4>id</h4>

<ul>
<li>user's id := uid</li>
<li>friend's id := fid</li>
<li>message's id := mid</li>
</ul><h4>Search/Lists</h4>

<ul>
<li>Maximum results := maxr</li>
<li>Results' offset := off</li>
<li>Query := q</li>
<li>Restrict to user's friend := rtf</li>
</ul><h4>Miscellaneous</h4>

<ul>
<li>a message := msg</li>
<li>a first name := fname</li>
<li>a last name := lname</li>
</ul><h3>Error-Codes</h3>

<p>Every API call can go wrong, whenever it does your JSON resp will look like this <code>{message:"error",error_code:code}</code>.
This is the meaning of those codes</p>

<ul>
<li>3  : User Already Exists</li>
<li>20 : Invalid User</li>
<li>56 : Invalid Message ID</li>
<li>84 : Parameters Error</li>
<li>291 : Wrong Login</li>
<li>398 : Empty Result</li>
<li>403 : Invalid Key</li>
<li>900 : Database Error</li>
<li>999 : Other Error</li>
</ul><p>Error n° 84 and 900 can always happen.</p>

<h2>User Service</h2>

<h3>Base URL:</h3>

<p><code>http://jwitter-url/user</code></p>

<h3>Login:</h3>

<blockquote>
<p>Returns a session key</p>
</blockquote>

<ul>
<li>url: /login</li>
<li>arguments:

<ul>
<li>username: login</li>
<li>password: pass</li>
</ul>
</li>
<li>error codes:

<ul>
<li>wrong login : 291</li>
</ul>
</li>
</ul><p><code>http://jwitter-url/user/login?login=user&amp;pass=pass</code></p>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="mi">33</span><span class="p">,</span><span class="nt">"login"</span><span class="p">:</span><span class="s2">"user"</span><span class="p">,</span><span class="nt">"key"</span><span class="p">:</span><span class="s2">"AwEs0m3K3yToUs3InJw177Er"</span><span class="p">}</span>
</pre></div>

<h3>Logout:</h3>

<blockquote>
<p>Expires a session key</p>
</blockquote>

<ul>
<li>url: /logout</li>
<li>arguments:

<ul>
<li>session key: key</li>
</ul>
</li>
<li>error codes:

<ul>
<li>invalid key : 403</li>
</ul>
</li>
</ul><p><code>http://jwitter-url/user/logout?key=key</code></p>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">}</span>
</pre></div>

<h3>New:</h3>

<blockquote>
<p>Creates a user</p>
</blockquote>

<ul>
<li>url: /new</li>
<li>arguments:

<ul>
<li>username : login</li>
<li>password : pass</li>
<li>first name : fname</li>
<li>last name : lname</li>
</ul>
</li>
<li>error codes:

<ul>
<li>user already exists : 3</li>
</ul>
</li>
</ul><p><code>http://jwitter-url/user/new?login=user&amp;pass=pass&amp;fname=james&amp;lname=darwin</code></p>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">}</span>
</pre></div>

<h3>Info</h3>

<blockquote>
<p>Info on a user</p>
</blockquote>

<ul>
<li>url: /info</li>
<li>
<p>arguments:</p>

<ul>
<li>username : login or uid</li>
<li>[session key : key]</li>
</ul>
<pre><code>http://Jwitter-url/user/info?uid=4
http://Jwitter-url/user/info?login=user1
http://Jwitter-url/user/info?uid=4&amp;key=supersecretkey
</code></pre>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"first_name"</span><span class="p">:</span><span class="s2">"Jean"</span><span class="p">,</span><span class="nt">"friend_count"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="nt">"last_name"</span><span class="p">:</span><span class="s2">"Guy"</span><span class="p">,</span><span class="nt">"login"</span><span class="p">:</span><span class="s2">"jg398"</span><span class="p">,</span><span class="nt">"last_jweets"</span><span class="p">:{</span><span class="nt">"messages"</span><span class="p">:[{</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"i believe i can fly"</span><span class="p">,</span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"_id"</span><span class="p">:</span><span class="s2">"51687c80e4b0c087485cf63d"</span><span class="p">,</span><span class="nt">"login"</span><span class="p">:</span><span class="s2">"jg398"</span><span class="p">,</span><span class="nt">"date"</span><span class="p">:</span><span class="s2">"Fri Apr 12 23:28:32 CEST 2013"</span><span class="p">},</span><span class="err">...</span><span class="p">]}}</span>
</pre></div>
</li>
</ul><h2>Friend Service</h2>

<h3>Base URL:</h3>

<p><code>http://jwitter-url/friend</code></p>

<h3>Add:</h3>

<blockquote>
<p>add a friend</p>
</blockquote>

<ul>
<li>url: /add</li>
<li>arguments:

<ul>
<li>friend id : fid</li>
<li>session key : key</li>
</ul>
</li>
<li>error codes:

<ul>
<li>user doesn't exist : 20</li>
<li>invalid key : 403</li>
<li>already friends : 999</li>
</ul>
</li>
</ul><p><code>http://jwitter-url/friend/add?fid=42&amp;key=supersecretkey</code></p>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">}</span>
</pre></div>

<h3>Remove:</h3>

<blockquote>
<p>removes a friend</p>
</blockquote>

<ul>
<li>url: /remove</li>
<li>arguments:

<ul>
<li>friend id : fid</li>
<li>key : key</li>
</ul>
</li>
<li>error codes:

<ul>
<li>invalid key : 403</li>
</ul>
</li>
</ul><p><code>http://jwitter-url/friend/remove?fid=42&amp;key=supersecretkey</code></p>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">}</span>
</pre></div>

<h3>List:</h3>

<blockquote>
<p>List a user's friends</p>
</blockquote>

<ul>
<li>url: /list</li>
<li>arguments:

<ul>
<li>username : login or uid</li>
<li>[ max results returned : maxr - default = 10 ]</li>
<li>[ offset: off - default = 0 ]</li>
</ul>
</li>
<li>error codes:

<ul>
<li>user doesn't exist : 20</li>
<li>result is empty : 398</li>
<li>invalid key : 403</li>
</ul>
</li>
</ul><pre><code>http://jwitter-url/friend/list?login=jacktheboss
http://jwitter-url/friend/list?login=jacktheboss&amp;off=10&amp;maxr=8
</code></pre>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"friends"</span><span class="p">:[{</span><span class="nt">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nt">"login"</span><span class="p">:</span><span class="s2">"jack"</span><span class="p">,</span><span class="nt">"date"</span><span class="p">:</span><span class="s2">"2013-02-14 17:14:22.0"</span><span class="p">},</span><span class="err">…</span><span class="p">]}</span>
</pre></div>

<h2>Message Service</h2>

<h3>Base URL:</h3>

<p><code>http://jwitter-url/message</code></p>

<h3>Post</h3>

<blockquote>
<p>Post a new message</p>
</blockquote>

<ul>
<li>url: /post</li>
<li>arguments:

<ul>
<li>key : key</li>
<li>message : msg</li>
</ul>
</li>
<li>error codes:

<ul>
<li>invalid key : 403</li>
</ul>
</li>
</ul><p><code>http://jwitter-url/message/new?key=thisisakey&amp;msg=helloworld</code></p>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"Hello World !"</span><span class="p">,</span><span class="nt">"message_id"</span><span class="p">:</span><span class="s2">"515feb36e4b0e4363f1bef2e"</span><span class="p">}</span>
</pre></div>

<h3>Delete</h3>

<blockquote>
<p>Delete a message</p>
</blockquote>

<ul>
<li>url: /delete</li>
<li>arguments:

<ul>
<li>key : key</li>
<li>message id : mid</li>
</ul>
</li>
<li>error codes:

<ul>
<li>invalid key : 403</li>
</ul>
</li>
</ul><p><code>http://jwitter-url/message/new?key=thisisakey&amp;mid=42</code></p>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"ok"</span><span class="p">}</span>
</pre></div>

<h3>List</h3>

<blockquote>
<p>list messages</p>
</blockquote>

<ul>
<li>url: /list</li>
<li>arguments:

<ul>
<li>[ only userid's messages : uid or username : login ]</li>
<li>[ max results returned : maxr - default = 100 ]</li>
<li>[ offset: off - default = 0 ]</li>
<li>[ list until message : mid]</li>
</ul>
</li>
<li>error codes:

<ul>
<li>user doesn't exist : 20</li>
<li>result is empty : 398</li>
</ul>
</li>
</ul><pre><code>http://jwitter-url/message/list?uid=12
http://jwitter-url/message/list?login=jack
http://jwitter-url/message/list?uid=12&amp;off=12&amp;maxr=5
http://jwitter-url/message/list?login=jack&amp;off=12&amp;maxr=5
http://jwitter-url/message/list?mid=515feb36e4b0e4363f1bef2e
</code></pre>

<div class="highlight"><pre><span class="p">{</span><span class="nt">"message"</span><span class="p">:[{</span><span class="nt">"message"</span><span class="p">:</span><span class="s2">"I do really love apples"</span><span class="p">,</span><span class="nt">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nt">"_id"</span><span class="p">:</span><span class="s2">"512b3fd8e4b02d9a74da067c"</span><span class="p">,</span><span class="nt">"login"</span><span class="p">:</span><span class="s2">"charles"</span><span class="p">},</span><span class="err">….</span><span class="p">]}</span>
</pre></div>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Jwitter API maintained by <a href="https://github.com/cedias">cedias</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
