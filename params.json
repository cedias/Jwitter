{"name":"Jwitter API","tagline":"twitter in tomcat","body":"#Jwitter API\r\n----------\r\n\r\n**[General Overview](#general-overview)**\r\n/ [Services](#services)\r\n/ [Arguments](#arguments)\r\n/ [Error Codes](#error-codes)    \r\n**[User Service](#user-service)**\r\n/ [Login](#login)\r\n/ [Logout](#logout)\r\n/ [New](#new)\r\n/ [Info](#info)  \r\n**[Friend Service](#friend-service)**\r\n/ [Add](#add)\r\n/ [Remove](#remove)\r\n/ [List](#list)  \r\n**[Message Service](#message-service)**\r\n/ [Post](#post)\r\n/ [Delete](#delete)\r\n/ [List](#list-1)\r\n\r\n##General Overview\r\n\r\n###Services\r\n\r\nJwitter api has 4 distinct services:\r\n\r\n- User : handles authentification and sessions\r\n- Friend : handles friends\r\n- Message : handles messages\r\n- Search : handles messages searchs\r\n\r\nAll of these services are reachable using the HTTP protocol over GET method.\r\nArguments and Errors are standardized.\r\n\r\n###Arguments\r\n\r\nSince the GET protocol is using the URL to transmit calls arguments' names have been standardized and shrinked.\r\n####Authentification\r\n\r\n + user's login := login\r\n + user's password := pass\r\n + user's session key := key\r\n\t\r\n\r\n####id\r\n\r\n + user's id := uid\r\n + friend's id := fid\r\n + message's id := mid\r\n\t\r\n\r\n####Search/Lists\r\n\r\n + Maximum results := maxr\r\n + Results' offset := off\r\n + Query := q\r\n + Restrict to user's friend := rtf\r\n\t\r\n\r\n####Miscellaneous \r\n\r\n + a message := msg\r\n + a first name := fname\r\n + a last name := lname\r\n\r\n### Error-Codes\r\n\r\nEvery API call can go wrong, whenever it does your JSON resp will look like this `{message:\"error\",error_code:code}`.\r\nThis is the meaning of those codes\r\n\r\n- 3  : User Already Exists\r\n- 20 : Invalid User\r\n- 56 : Invalid Message ID\r\n- 84 : Parameters Error\r\n- 291 : Wrong Login\r\n- 398 : Empty Result\r\n- 403 : Invalid Key\r\n- 900 : Database Error\r\n- 999 : Other Error\r\n\r\nError n° 84 and 900 can always happen.\r\n\r\n##User Service\r\n\r\n###Base URL:\r\n`http://jwitter-url/user`\r\n\r\n###Login: \r\n> Returns a session key\r\n\r\n- url: /login\r\n- arguments:\r\n + username: login\r\n + password: pass\r\n- error codes:\r\n + wrong login : 291\r\n\r\n\r\n\r\n`http://jwitter-url/user/login?login=user&pass=pass`\r\n\r\n```JSON\r\n{\"id\":33,\"login\":\"user\",\"key\":\"AwEs0m3K3yToUs3InJw177Er\"}\r\n```\r\n\r\n###Logout:\r\n> Expires a session key\r\n\r\n- url: /logout\r\n- arguments:\r\n + session key: key\r\n- error codes:\r\n + invalid key : 403\r\n\r\n`http://jwitter-url/user/logout?key=key`\r\n\r\n```JSON\r\n{\"message\":\"ok\"}\r\n```\r\n\r\n###New:\r\n> Creates a user\r\n\r\n- url: /new\r\n- arguments:\r\n + username : login\r\n + password : pass\r\n + first name : fname\r\n + last name : lname\r\n- error codes:\r\n + user already exists : 3\r\n\r\n`http://jwitter-url/user/new?login=user&pass=pass&fname=james&lname=darwin`\r\n\r\n```JSON\r\n{\"message\":\"ok\"}\r\n```\r\n\r\n###Info\r\n> Info on a user\r\n\r\n\r\n- url: /info\r\n- arguments:\r\n + username : login or uid\r\n + [session key : key]\r\n\r\n ```\r\n http://Jwitter-url/user/info?uid=4\r\n http://Jwitter-url/user/info?login=user1\r\n http://Jwitter-url/user/info?uid=4&key=supersecretkey\r\n ```\r\n \r\n ```JSON\r\n {\"id\":1,\"first_name\":\"Jean\",\"friend_count\":10,\"last_name\":\"Guy\",\"login\":\"jg398\",\"last_jweets\":{\"messages\":[{\"message\":\"i believe i can fly\",\"id\":1,\"_id\":\"51687c80e4b0c087485cf63d\",\"login\":\"jg398\",\"date\":\"Fri Apr 12 23:28:32 CEST 2013\"},...]}}\r\n ```\r\n\r\n\r\n##Friend Service\r\n\r\n###Base URL:\r\n`http://jwitter-url/friend`\r\n\r\n###Add:\r\n> add a friend\r\n\r\n- url: /add\r\n- arguments:\r\n + friend id : fid\r\n + session key : key\r\n- error codes:\r\n + user doesn't exist : 20\r\n + invalid key : 403\r\n + already friends : 999\r\n\r\n\r\n`http://jwitter-url/friend/add?fid=42&key=supersecretkey`\r\n\r\n\r\n```JSON\r\n{\"message\":\"ok\"}\r\n```\r\n\r\n###Remove:\r\n> removes a friend\r\n\r\n- url: /remove\r\n- arguments:\r\n + friend id : fid\r\n + key : key\r\n- error codes:\r\n + invalid key : 403\r\n\r\n`http://jwitter-url/friend/remove?fid=42&key=supersecretkey`\r\n\r\n```JSON\r\n{\"message\":\"ok\"}\r\n```\r\n\r\n###List:\r\n> List a user's friends\r\n\r\n- url: /list\r\n- arguments:\r\n + username : login or uid\r\n + [ max results returned : maxr - default = 10 ]\r\n + [ offset: off - default = 0 ]\r\n- error codes:\r\n + user doesn't exist : 20\r\n + result is empty : 398\r\n + invalid key : 403\r\n\r\n```\r\nhttp://jwitter-url/friend/list?login=jacktheboss\r\nhttp://jwitter-url/friend/list?login=jacktheboss&off=10&maxr=8\r\n```\r\n\r\n```JSON\r\n{\"friends\":[{\"id\":2,\"login\":\"jack\",\"date\":\"2013-02-14 17:14:22.0\"},…]}\r\n```\r\n\r\n##Message Service\r\n\r\n###Base URL:\r\n`http://jwitter-url/message`\r\n\r\n###Post\r\n> Post a new message\r\n\r\n- url: /post\r\n- arguments:\r\n + key : key\r\n + message : msg\r\n- error codes:\r\n + invalid key : 403\r\n\r\n`http://jwitter-url/message/new?key=thisisakey&msg=helloworld`\r\n\r\n```JSON\r\n{\"message\":\"Hello World !\",\"message_id\":\"515feb36e4b0e4363f1bef2e\"}\r\n```\r\n\r\n###Delete\r\n> Delete a message\r\n\r\n- url: /delete\r\n- arguments:\r\n + key : key\r\n + message id : mid\r\n- error codes:\r\n + invalid key : 403\r\n\r\n`http://jwitter-url/message/new?key=thisisakey&mid=42`\r\n\r\n```JSON\r\n{\"message\":\"ok\"}\r\n```\r\n\r\n###List\r\n> list messages\r\n\r\n- url: /list\r\n- arguments:\r\n + [ only userid's messages : uid or username : login ]\r\n + [ max results returned : maxr - default = 100 ]\r\n + [ offset: off - default = 0 ]\r\n + [ list until message : mid]\r\n- error codes:\r\n + user doesn't exist : 20\r\n + result is empty : 398\r\n\r\n```\r\nhttp://jwitter-url/message/list?uid=12\r\nhttp://jwitter-url/message/list?login=jack\r\nhttp://jwitter-url/message/list?uid=12&off=12&maxr=5\r\nhttp://jwitter-url/message/list?login=jack&off=12&maxr=5\r\nhttp://jwitter-url/message/list?mid=515feb36e4b0e4363f1bef2e\r\n```\r\n\r\n```JSON\r\n{\"message\":[{\"message\":\"I do really love apples\",\"id\":1,\"_id\":\"512b3fd8e4b02d9a74da067c\",\"login\":\"charles\"},….]}\r\n```\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}